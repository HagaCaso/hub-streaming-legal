const config={primary:'#667eea',accent:'#764ba2',text:'#1f2937',surface:'#f3f4f6',title:'Mi Hub de Streaming Legal'};const platforms=[{name:'Tubi',type:'Pel\u00edculas; Series',url:'https://tubitv.com',rank:1},{name:'Pluto TV',type:'TV en vivo; Pel\u00edculas',url:'https://pluto.tv',rank:2},{name:'Vix',type:'Contenido Latino',url:'https://vix.com',rank:3},{name:'Plex',type:'Pel\u00edculas; Series',url:'https://plex.tv',rank:4},{name:'The Roku Channel',type:'Pel\u00edculas; TV',url:'https://therokuchannel.roku.com',rank:5},{name:'Amazon Freevee',type:'Pel\u00edculas; Series',url:'https://freevee.com',rank:6},{name:'Crackle',type:'Pel\u00edculas; Series',url:'https://crackle.com',rank:7},{name:'Rakuten TV',type:'Pel\u00edculas; Series',url:'https://rakuten.tv',rank:8},{name:'FilmRise',type:'Pel\u00edculas; Documentales',url:'https://filmrise.com',rank:9},{name:'Cineverse',type:'Pel\u00edculas; Series',url:'https://cineverse.com',rank:10},{name:'Kanopy',type:'Documentales; Cine',url:'https://kanopy.com',rank:11},{name:'Hoopla',type:'Pel\u00edculas; Series',url:'https://hoopladigital.com',rank:12},{name:'Internet Archive',type:'Pel\u00edculas; Documentales',url:'https://archive.org/details/movies',rank:13},{name:'Public Domain',type:'Pel\u00edculas Cl\u00e1sicas',url:'https://publicdomainmovie.net',rank:14},{name:'Open Culture',type:'Pel\u00edculas; Documentales',url:'https://openculture.com/freemoviesonline',rank:15},{name:'YouTube',type:'Pel\u00edculas Gratis',url:'https://youtube.com',rank:16},{name:'Plex Live TV',type:'TV en vivo',url:'https://plex.tv/watch-tv',rank:17},{name:'Tubi LATAM',type:'Pel\u00edculas (LATAM)',url:'https://tubitv.com/home',rank:18},{name:'Pluto LATAM',type:'TV + Pel\u00edculas',url:'https://pluto.tv/es',rank:19},{name:'PBS Free',type:'Series; Documentales',url:'https://pbs.org',rank:20}];const trending=[{title:'Night of the Living Dead',platform:'Internet Archive',category:'Imprescindibles'},{title:'His Girl Friday',platform:'Public Domain',category:'Imprescindibles'},{title:'Thriller 2024',platform:'Tubi',category:'Estrenos'},{title:'Acci\u00f3n 2024',platform:'Pluto TV',category:'Estrenos'},{title:'Comedia Familiar',platform:'Vix',category:'Noche en familia'},{title:'Pel\u00edcula Animada',platform:'Roku',category:'Noche en familia'},{title:'Cl\u00e1sico Oculto 1',platform:'FilmRise',category:'Joyas ocultas'},{title:'Drama Independiente',platform:'Cineverse',category:'Joyas ocultas'},{title:'Documental Hist\u00f3rico',platform:'Kanopy',category:'Joyas ocultas'},{title:'Noir Cl\u00e1sico',platform:'Public Domain',category:'Joyas ocultas'}];let watchHistory=[];let currentTab='platforms';function init(){render()}function render(){const app=document.getElementById('app');app.innerHTML=`<div class='w-full'><header class='gradient-bg p-6 shadow-lg' style='background: linear-gradient(135deg, ${config.primary} 0%, ${config.accent} 100%);'><h1 class='text-4xl font-bold text-white'>${config.title}</h1><p class='text-white text-lg opacity-90'>Accede a 20+ plataformas sin suscripciones</p></header><nav class='bg-white shadow-sm border-b border-gray-200 sticky top-0 z-10'><div class='flex gap-6 px-6 overflow-x-auto'><button class='tab-active py-4 px-2' onclick='switchTab("platforms")'>\ud83d\udcfa Plataformas</button><button class='py-4 px-2' onclick='switchTab("trending")'>\ud83d\udd25 Tendencias</button><button class='py-4 px-2' onclick='switchTab("categories")'>\ud83c\udf86 Categor\u00edas</button><button class='py-4 px-2' onclick='switchTab("history")'>\ud83d\udcdd Historial</button><button class='py-4 px-2' onclick='switchTab("export")'>\ud83d\udcc8 Exportar</button></div></nav><main class='p-6'><div id='content'></div></main></div>`;switchTab('platforms')}function switchTab(tab){currentTab=tab;const content=document.getElementById('content');if(tab==='platforms'){content.innerHTML=`<h2 class='text-2xl font-bold mb-4'>20 Plataformas Legales</h2><div class='grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4'>${platforms.map(p=>`<div class='bg-white rounded-lg shadow-md p-5 hover:shadow-lg'><h3 class='font-bold text-lg mb-2'>${p.name}</h3><p class='text-gray-600 mb-2'>${p.type}</p><a href='${p.url}' target='_blank' class='bg-blue-500 text-white px-4 py-2 rounded inline-block'>Visitar</a></div>`).join('')}</div>`}else if(tab==='trending'){content.innerHTML=`<h2 class='text-2xl font-bold mb-4'>En Tendencia</h2><div class='grid grid-cols-1 md:grid-cols-2 gap-4'>${trending.map(t=>`<div class='bg-white rounded-lg shadow-md p-5'><h3 class='font-bold text-lg mb-2'>${t.title}</h3><p class='text-gray-600 mb-2'>${t.platform}</p><button onclick='markWatched("${t.title}","${t.platform}","${t.category}")' class='bg-green-500 text-white px-4 py-2 rounded'>Marcar vista</button></div>`).join('')}</div>`}else if(tab==='categories'){const cats={Imprescindibles:trending.filter(t=>t.category==='Imprescindibles'),Estrenos:trending.filter(t=>t.category==='Estrenos'),'Noche en familia':trending.filter(t=>t.category==='Noche en familia'),'Joyas ocultas':trending.filter(t=>t.category==='Joyas ocultas')};content.innerHTML=`<h2 class='text-2xl font-bold mb-4'>Categor\u00edas</h2>${Object.entries(cats).map(([cat,items])=>`<h3 class='text-xl font-bold mt-4 mb-2'>${cat}</h3><div class='grid grid-cols-1 md:grid-cols-3 gap-4'>${items.map(i=>`<div class='bg-white rounded-lg shadow-md p-4'><h4 class='font-bold'>${i.title}</h4><p class='text-sm text-gray-600'>${i.platform}</p></div>`).join('')}</div>`).join('')}`}else if(tab==='history'){content.innerHTML=`<h2 class='text-2xl font-bold mb-4'>Mi Historial (${watchHistory.length})</h2>${watchHistory.length===0?'<p class="text-gray-500">A\u00fan no has marcado nada</p>':`<div class='grid grid-cols-1 md:grid-cols-2 gap-4'>${watchHistory.map(h=>`<div class='bg-white rounded-lg shadow-md p-5'><h3 class='font-bold mb-2'>${h.title}</h3><p class='text-gray-600 mb-1'>${h.platform}</p><p class='text-sm text-gray-500'>${h.date}</p></div>`).join('')}</div>`}`}else if(tab==='export'){const csv=`Nombre,Tipo,Enlace\n${platforms.map(p=>`\"${p.name}\",\"${p.type}\",${p.url}`).join('\n')}`;content.innerHTML=`<h2 class='text-2xl font-bold mb-4'>Exportar CSV</h2><textarea readonly class='w-full h-64 p-3 border rounded font-mono text-sm' onclick='this.select()'>${csv}</textarea><button onclick='navigator.clipboard.writeText(\`${csv}\`)' class='bg-blue-500 text-white px-4 py-2 rounded mt-4'>Copiar</button>`}}function markWatched(title,platform,category){const now=new Date().toLocaleDateString('es-ES');watchHistory.push({title,platform,category,date:now});alert('A\u00f1adido al historial!')switchTab(currentTab)}init()
